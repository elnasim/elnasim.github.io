(this["webpackJsonpinvoice.test"]=this["webpackJsonpinvoice.test"]||[]).push([[0],{22:function(e,t,a){e.exports=a(43)},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),u=a(4),s=a(2),i=a(13),o=a(1),m=r.a.createContext(),f=function(){return Object(n.useContext)(m)};function b(e){var t=e.children,a=Object(n.useState)(null),c=Object(o.a)(a,2),l=c[0],u=c[1],s=Object(n.useState)([]),f=Object(o.a)(s,2),b=f[0],v=f[1],E=Object(n.useState)(!1),d=Object(o.a)(E,2),h=d[0],p=d[1],g=Object(n.useState)([{id:1,name:"Leanne Graham",averageCheck:900,numberOfPurchases:100,totalRevenues:1e3},{id:2,name:"Ervin Howell",averageCheck:463,numberOfPurchases:5634,totalRevenues:5345},{id:3,name:"Clementine Bauch",averageCheck:8768,numberOfPurchases:231,totalRevenues:100},{id:4,name:"Patricia Lebsack",averageCheck:945,numberOfPurchases:248,totalRevenues:11},{id:5,name:"Chelsey Dietrich",averageCheck:8256,numberOfPurchases:571,totalRevenues:3753},{id:6,name:"Mrs. Dennis Schulist",averageCheck:7589,numberOfPurchases:147,totalRevenues:3578},{id:7,name:"Kurtis Weissnat",averageCheck:957,numberOfPurchases:445,totalRevenues:7215},{id:8,name:"Nicholas Runolfsdottir V",averageCheck:7225,numberOfPurchases:4445,totalRevenues:6897},{id:9,name:"Glenna Reichert",averageCheck:7245,numberOfPurchases:4512,totalRevenues:3785},{id:10,name:"Clementina DuBuque",averageCheck:785,numberOfPurchases:245,totalRevenues:2784},{id:11,name:"Mrs. Dennis Schulist",averageCheck:45782,numberOfPurchases:75678,totalRevenues:722},{id:12,name:"Clementine Bauch",averageCheck:278,numberOfPurchases:4124,totalRevenues:2587},{id:13,name:"Leanne Graham",averageCheck:5347,numberOfPurchases:7895,totalRevenues:573},{id:14,name:"Leanne Graham",averageCheck:759,numberOfPurchases:725,totalRevenues:27},{id:15,name:"Glenna Reichert",averageCheck:2777,numberOfPurchases:2570,totalRevenues:1459}]),O=Object(o.a)(g,1)[0];return r.a.createElement(m.Provider,{value:{userData:l,terminals:b,buyers:O,isShowSidebar:h,changeUserData:function(e){u(e)},addTerminal:function(e){v([].concat(Object(i.a)(b),[e]))},removeTerminal:function(e){v(b.filter((function(t){return t.id!==e})))},changeShowsidebar:function(){p(!h)}}},t)}a(27);function v(){var e=f();Object(n.useEffect)((function(){console.log("render sidebar")}),[]);var t="sidebar";return e.isShowSidebar&&(t+=" show"),r.a.createElement("div",{className:t},r.a.createElement("img",{src:e.userData&&e.userData.avatar_url,className:"user-logo",alt:"logo"}),r.a.createElement("nav",{className:"nav"},r.a.createElement(u.b,{className:"nav__link",to:"/terminals"},"terminals"),r.a.createElement(u.b,{className:"nav__link",to:"/buyers"},"buyers")),r.a.createElement("footer",{className:"footer"},"Copyright \xa9 2020 "))}a(33),a(34);function E(){var e=f().changeShowsidebar;return r.a.createElement("button",{className:"show-sidebar-btn",onClick:e},r.a.createElement("img",{src:"img/adjust.svg",alt:""}))}function d(e){var t=e.children,a=Object(s.f)(),c=f();return Object(n.useEffect)((function(){console.log("main layout render"),c.userData||a.push("/")}),[c.userData,a]),r.a.createElement("div",{className:"main-layout"},r.a.createElement(v,null),r.a.createElement("div",{className:"layout-body"},t),r.a.createElement(E,null))}var h=a(9),p=a.n(h),g=a(14);a(36);function O(e){var t=e.children;return r.a.createElement("div",{className:"form-error"},t)}function j(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),i=u[0],m=u[1],b=Object(n.useState)(!1),v=Object(o.a)(b,2),E=v[0],d=v[1],h=Object(n.useState)(!1),j=Object(o.a)(h,2),y=j[0],C=j[1],N=f(),k=Object(s.f)();Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.userData&&k.push("/terminals");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N.userData,k]);var S=function(){var e=Object(g.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$/,!(i.trim().length<8)&&a.test(i)){e.next=5;break}return C(!0),e.abrupt("return");case 5:P();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,fetch("https://api.github.com/users/".concat(a));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,N.changeUserData(n),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"form",onSubmit:S},r.a.createElement("label",{className:"label"},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0433\u0438\u0442\u0445\u0430\u0431",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("input",{type:"password",className:"input-text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",autoComplete:"off",value:i,onChange:function(e){return m(e.target.value)}})),r.a.createElement("button",{className:"button-form button"},E?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u043e\u0439\u0442\u0438"),y&&r.a.createElement(O,null,"\u041f\u043e\u043b\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\u0438",r.a.createElement("br",null),r.a.createElement("br",null)," \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b 1 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u0443\u044e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0443\u044e \u0431\u0443\u043a\u0432\u0443, \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0446\u0438\u0444\u0440\u0443"))}function y(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"container"},r.a.createElement(j,null))))}function C(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),s=u[0],i=u[1],m=Object(n.useState)(!1),b=Object(o.a)(m,2),v=b[0],E=b[1],d=f();return r.a.createElement("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),a.trim()&&s.trim()){var t=Date.now();d.addTerminal({id:t,terminalTitle:a.trim(),description:s.trim()}),c(""),i(""),E(!1)}else E(!0)}},r.a.createElement("label",{className:"label"},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement("label",{className:"label"},r.a.createElement("input",{type:"text",className:"input-text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:s,onChange:function(e){return i(e.target.value)}})),r.a.createElement("button",{className:"button-form button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),v&&r.a.createElement(O,null,"\u041f\u043e\u043b\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\u0438"))}function N(e){var t=e.id,a=e.terminalTitle,n=e.description,c=f().removeTerminal;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",{className:"center"},r.a.createElement("button",{onClick:function(e){e.preventDefault(),c(t)}},"x")))}a(37);function k(){var e=f().terminals;return e.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"terminals-body"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("td",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),r.a.createElement("td",null)),e.map((function(e){return r.a.createElement(N,{key:e.id,id:e.id,terminalTitle:e.terminalTitle,description:e.description})}))))):null}function S(){return r.a.createElement("div",{className:"terminals-page"},r.a.createElement(C,null),r.a.createElement(k,null))}a(38);function P(e){var t=e.buyers,a=e.sortBuyers,n=function(e){a(e)};return r.a.createElement("table",{className:"buyers-body"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",{onClick:function(){return n("name")}},"\u0418\u043c\u044f"),r.a.createElement("td",{onClick:function(){return n("averageCheck")}},"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"),r.a.createElement("td",{onClick:function(){return n("numberOfPurchases")}},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a"),r.a.createElement("td",{onClick:function(){return n("totalRevenues")}},"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(u.b,{to:"/buyers/"+e.id},e.id)),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.averageCheck),r.a.createElement("td",null,e.numberOfPurchases),r.a.createElement("td",null,e.totalRevenues))}))))}a(39);function w(e){var t=e.filterBuyers,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],u=c[1];return r.a.createElement("input",{className:"buyers-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",onChange:function(e){return function(e){u(e.target.value),t(e.target.value)}(e)},value:l})}a(40);function R(e){var t=e.changePerPage;return r.a.createElement("div",{className:"select-wrapper"},"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043f\u043e:",r.a.createElement("select",{onChange:function(e){return function(e){t(+e.target.value)}(e)}},r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"5"},"5")))}a(41);function x(e){var t=e.perPage,a=e.changePage,n=e.numOfItems;if(15===t)return null;var c=Math.ceil(n/t);return r.a.createElement("div",{className:"pagination"},function(){for(var e=[],t=function(t){e.push(r.a.createElement("button",{className:"pagination__item",onClick:function(e){return function(e,t){e.preventDefault(),a(t)}(e,t)},key:t},t))},n=1;n<=c;n++)t(n);return e}())}function D(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(15),u=Object(o.a)(l,2),s=u[0],m=u[1],b=Object(n.useState)(0),v=Object(o.a)(b,2),E=v[0],d=v[1],h=Object(n.useState)(null),p=Object(o.a)(h,2),g=p[0],O=p[1],j=Object(n.useState)(null),y=Object(o.a)(j,2),C=y[0],N=y[1],k=f().buyers;Object(n.useEffect)((function(){c(k)}),[k]),Object(n.useEffect)((function(){c((function(e){return Object(i.a)(e.sort((function(e,t){return e[C]<t[C]?g?1:-1:e[C]>t[C]?g?-1:1:0})))}))}),[g,C]),Object(n.useEffect)((function(){c(k.slice().splice(E*s,s))}),[k,E,s]);return r.a.createElement("div",{className:"buyers-page"},r.a.createElement(w,{filterBuyers:function(e){var t=k.filter((function(t){return t.name.toLowerCase().includes(e.trim().toLowerCase())}));c(t)}}),r.a.createElement(R,{changePerPage:function(e){d(0),m(e),c(k.slice().splice(E*e,E*e+e))}}),r.a.createElement(P,{buyers:a,sortBuyers:function(e){C===e?O((function(e){return!e})):(N((function(){return e})),O(!0))}}),r.a.createElement(x,{numOfItems:k.length,perPage:s,changePage:function(e){d(e-1)}}))}function _(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=f().buyers,i=Object(s.g)();return Object(n.useEffect)((function(){var e=+i.id,t=l.find((function(t){return t.id===e}));c(t)}),[l,i.id]),a?r.a.createElement("div",{className:"buyer-page"},r.a.createElement(u.b,{to:"/buyers"},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"buyer-page__item"},"\u0418\u043c\u044f: ",a.name),r.a.createElement("div",{className:"buyer-page__item"},"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a: ",a.averageCheck),r.a.createElement("div",{className:"buyer-page__item"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a: ",a.numberOfPurchases),r.a.createElement("div",{className:"buyer-page__item"},"\u041e\u0431\u0449\u0430\u044f \u0432\u044b\u0440\u0443\u0447\u043a\u0430: ",a.totalRevenues)):null}a(42);function B(){return r.a.createElement("div",{className:"no-match-page"},r.a.createElement("div",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement(u.b,{to:"/"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))}var T=function(){return r.a.createElement(b,null,r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/terminals"},r.a.createElement(d,null,r.a.createElement(S,null))),r.a.createElement(s.a,{path:"/buyers/:id"},r.a.createElement(d,null,r.a.createElement(_,null))),r.a.createElement(s.a,{path:"/buyers"},r.a.createElement(d,null,r.a.createElement(D,null))),r.a.createElement(s.a,{path:"/",exact:!0},r.a.createElement(y,null)),r.a.createElement(s.a,{path:"*"},r.a.createElement(B,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.c2d3517d.chunk.js.map